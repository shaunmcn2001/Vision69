/* ───────── core layout ───────── */
.app {
  position: relative;
  display: flex;
  height: 100vh;
  width: 100vw;
  overflow: hidden;
  background: #0f0f0f;     /* dark body */
  color: #e0e0e0;
  font-family: system-ui, sans-serif;
}
.sidebar-closed .map { flex: 1 1 100%; }

/* ───────── sidebar ───────── */
.sidebar {
  width: 320px;
  min-width: 220px;
  max-width: 40%;
  resize: horizontal;        /* user drags right edge to resize */
  overflow-y: auto;
  background: #1b1b1b;
  color: #f5f5f5;
  border-right: 1px solid #2a2a2a;
  padding: 1rem;
}
.sidebar-header{
  display:flex;align-items:center;justify-content:space-between;
  margin-bottom:.5rem;
}
.close-btn{
  background:none;border:none;color:#f5f5f5;font-size:1.2rem;cursor:pointer;
}
.close-btn:hover{color:#bbbbbb;}

.sidebar textarea{
  width:100%;height:110px;padding:.5rem;background:#292929;color:#fff;
  border:1px solid #444;border-radius:3px;resize:vertical;font-size:.9rem;
}
.sidebar button{width:100%;margin-top:.5rem;padding:.6rem 0;border:none;
  border-radius:4px;cursor:pointer;font-size:.95rem;background:#005f99;color:#fff;}
.sidebar button.primary{background:#0077b6;}
.sidebar button:hover{filter:brightness(1.1);}

.sidebar hr{margin:1rem 0;border:none;border-top:1px solid #333;}
.sidebar label{display:block;margin-top:.6rem;font-size:.85rem;}
.sidebar label.inline{display:inline-block;margin-right:.8rem;}
.sidebar input[type="color"]{vertical-align:middle;margin-left:.25rem;}
.sidebar .range-val{margin-left:.4rem;font-family:monospace;}

.results{margin-top:1rem;font-size:.85rem;}
/* results table etc. unchanged – keep your previous rules */

/* download buttons grid */
.downloads{margin-top:.8rem;display:grid;grid-template-columns:1fr 1fr;gap:.3rem;}

/* ───────── toggle button ───────── */
.toggle-btn{
  position:absolute;left:8px;top:8px;z-index:1000;width:44px;height:44px;
  background:#1b1b1b;border:1px solid #333;border-radius:4px;
  color:#f5f5f5;font-size:1.3rem;display:flex;align-items:center;
  justify-content:center;cursor:pointer;
}
.toggle-btn:hover{background:#2a2a2a;}

/* ───────── map ───────── */
.map{flex:1;position:relative;height:100vh;}
.map .leaflet-container{height:100%;width:100%;}